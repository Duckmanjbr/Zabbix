zabbix_export:
  version: '7.0'
  template_groups:
    - uuid: 67923101113342d3b2c44f3060fda704
      name: 'Crypto Mining Devices'
    - uuid: 3c9aa32caa13426fafa17f32699b1aa4
      name: Templates/Custom
  templates:
    - uuid: 7ac90882accf4c7b9553c30bc5d45e90
      template: BitAxe_AxeOS_Supra
      name: BitAxe_AxeOS_Supra
      description: |
        This template uses the BitAxe API to fetch system information for monitoring.
         API Endpoint: http://{HOST.IP}/api/system/info

        Ensure the device is accessible and the API is enabled.
      vendor:
        name: Bitaxe
        version: 7.0.x
      groups:
        - name: 'Crypto Mining Devices'
        - name: Templates/Custom
      items:
        - uuid: 365af7fb0ddf4746a2162db9990960a2
          name: 'BitAxe ASIC Count'
          type: HTTP_AGENT
          key: bitaxe.asic.count
          status: DISABLED
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.asicCount
          url: 'http://{HOST.IP}/api/system/info'
        - uuid: be8166f0eb914af09c32c095d4222c9e
          name: 'BitAxe ASIC Model'
          type: HTTP_AGENT
          key: bitaxe.asic.model
          value_type: TEXT
          trends: '0'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.ASICModel
          url: 'http://{HOST.IP}/api/system/info'
        - uuid: 61f9140ae3cd4085b7519fe748a552e8
          name: 'BitAxe Best Difficulty'
          type: HTTP_AGENT
          key: bitaxe.best.diff
          value_type: TEXT
          trends: '0'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.bestDiff
          url: 'http://{HOST.IP}/api/system/info'
        - uuid: 51f53141ebcb41e2ac587ade4e57a489
          name: 'BitAxe Best Session Difficulty'
          type: HTTP_AGENT
          key: bitaxe.best.session.diff
          value_type: TEXT
          trends: '0'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.bestSessionDiff
          url: 'http://{HOST.IP}/api/system/info'
        - uuid: 054559fd3a2d4bf59a418717ffc9dd73
          name: 'BitAxe Core Voltage'
          type: HTTP_AGENT
          key: bitaxe.core.voltage
          value_type: FLOAT
          units: mV
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.coreVoltageActual
          url: 'http://{HOST.IP}/api/system/info'
        - uuid: 480b0feb278e44afb1054644c99744f1
          name: 'BitAxe Using Fallback Stratum'
          type: HTTP_AGENT
          key: bitaxe.fallback.stratum
          value_type: TEXT
          trends: '0'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.isUsingFallbackStratum
          url: 'http://{HOST.IP}/api/system/info'
          triggers:
            - uuid: b81ec17ca27f4e2d952e973446ea32ae
              expression: last(/BitAxe_AxeOS_Supra/bitaxe.fallback.stratum)=1
              name: 'BitAxe Using Fallback Stratum'
              priority: AVERAGE
        - uuid: e0218b7269104b81ae1d4e95278be552
          name: 'BitAxe Fan RPM'
          type: HTTP_AGENT
          key: bitaxe.fanrpm
          value_type: FLOAT
          units: rpm
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.fanrpm
          url: 'http://{HOST.IP}/api/system/info'
        - uuid: f5463fba6073415b95ee1435d18c78a1
          name: 'BitAxe Fan Speed'
          type: HTTP_AGENT
          key: bitaxe.fanspeed
          value_type: FLOAT
          units: '%'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.fanspeed
          url: 'http://{HOST.IP}/api/system/info'
        - uuid: 58b424f90f114348823782c5a6ff32e3
          name: 'BitAxe Free Heap'
          type: HTTP_AGENT
          key: bitaxe.free.heap
          value_type: FLOAT
          units: B
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.freeHeap
          url: 'http://{HOST.IP}/api/system/info'
        - uuid: 6deafa436e8b430bab258af5af3329b6
          name: 'BitAxe Frequency'
          type: HTTP_AGENT
          key: bitaxe.frequency
          value_type: FLOAT
          units: MHz
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.frequency
          url: 'http://{HOST.IP}/api/system/info'
        - uuid: 42fc87fe455a4e2ba10d4be2c5b5312c
          name: 'Bitaxe Hashrate'
          type: HTTP_AGENT
          key: bitaxe.hashrate
          value_type: FLOAT
          units: TB/s
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.hashRate
            - type: MULTIPLIER
              parameters:
                - '0.001'
          url: 'http://{HOST.IP}/api/system/info'
        - uuid: 250796956bf24c468a3c2af70ebd4eb0
          name: 'BitAxe Hostname'
          type: HTTP_AGENT
          key: bitaxe.hostname
          value_type: TEXT
          trends: '0'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.hostname
          url: 'http://{HOST.IP}/api/system/info'
          triggers:
            - uuid: 8bd9837aca614a299fe2869a121e1669
              expression: change(/BitAxe_AxeOS_Supra/bitaxe.hostname)=1
              name: 'Hostname Changed'
              priority: WARNING
        - uuid: 5b93cb86cc4040febd33dad8ee056039
          name: 'BitAxe MAC Address'
          type: HTTP_AGENT
          key: bitaxe.mac
          value_type: TEXT
          trends: '0'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.macAddr
          url: 'http://{HOST.IP}/api/system/info'
        - uuid: 2cfa24eef20b4dd4b9b069886a083ebe
          name: 'BitAxe Max Power'
          type: HTTP_AGENT
          key: bitaxe.max.power
          value_type: FLOAT
          units: W
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.maxPower
          url: 'http://{HOST.IP}/api/system/info'
        - uuid: 252791f02df747d6a2295825dea03cfc
          name: 'Bitaxe Overheat_Mode'
          type: HTTP_AGENT
          key: bitaxe.overheat_mode
          value_type: FLOAT
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.overheat_mode
          url: 'http://{HOST.IP}/api/system/info'
          triggers:
            - uuid: ffdf790ae6f24f5e9695cd2266a5dca6
              expression: last(/BitAxe_AxeOS_Supra/bitaxe.overheat_mode)=1
              name: BitAxe_Overheat
              priority: DISASTER
              description: 'Bitaxe exceeded high temperature threshold, check cooling!'
        - uuid: 9e8cfa16601e4aab98c89cea0d4c72ee
          name: 'BitAxe Power Consumption'
          type: HTTP_AGENT
          key: bitaxe.power
          value_type: FLOAT
          units: W
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.power
          url: 'http://{HOST.IP}/api/system/info'
          triggers:
            - uuid: dab6a47fb2054f96b610c158f67d350e
              expression: 'avg(/BitAxe_AxeOS_Supra/bitaxe.power,{$BITAXE.POWER.HIGH.SEC})>{$BITAXE.POWER.HIGH}'
              name: 'Power Consumption High> {$BITAXE.POWER.HIGH}W'
              priority: HIGH
            - uuid: 4db21c44b55b4da895a85f26b6b2d514
              expression: 'avg(/BitAxe_AxeOS_Supra/bitaxe.power,{$BITAXE.POWER.HIGH.SEC})>{$BITAXE.POWER.WARNING}'
              name: 'Power Consumption Warning> {$BITAXE.POWER.WARNING}W'
              priority: WARNING
              dependencies:
                - name: 'Power Consumption High> {$BITAXE.POWER.HIGH}W'
                  expression: 'avg(/BitAxe_AxeOS_Supra/bitaxe.power,{$BITAXE.POWER.HIGH.SEC})>{$BITAXE.POWER.HIGH}'
        - uuid: 4db0591f9f554622ad9f897567173820
          name: 'BitAxe Shares Accepted'
          type: HTTP_AGENT
          key: bitaxe.shares.accepted
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.sharesAccepted
          url: 'http://{HOST.IP}/api/system/info'
        - uuid: bbb33ad287a4463d8d5a770895f2228c
          name: 'BitAxe Shares Rejected'
          type: HTTP_AGENT
          key: bitaxe.shares.rejected
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.sharesRejected
          url: 'http://{HOST.IP}/api/system/info'
        - uuid: 177a4d33250d42bba82ae7923d004eb3
          name: 'BitAxe SSID'
          type: HTTP_AGENT
          key: bitaxe.ssid
          value_type: TEXT
          trends: '0'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.ssid
          url: 'http://{HOST.IP}/api/system/info'
        - uuid: 148cab8bee8b4f4aa92a9909a6e861cd
          name: 'BitAxe Stratum Difficulty'
          type: HTTP_AGENT
          key: bitaxe.stratum.diff
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.stratumDiff
          url: 'http://{HOST.IP}/api/system/info'
        - uuid: caed9f4496c940c08a18e150bf81347e
          name: 'BitAxe Stratum URL'
          type: HTTP_AGENT
          key: bitaxe.stratum.url
          value_type: TEXT
          trends: '0'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.stratumURL
          url: 'http://{HOST.IP}/api/system/info'
        - uuid: fc57ef385bd144ecadb3d7a91faff6cd
          name: 'Bitaxe Temperature'
          type: HTTP_AGENT
          key: bitaxe.temp
          value_type: FLOAT
          units: Â°C
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.temp
          url: 'http://{HOST.IP}/api/system/info'
          triggers:
            - uuid: 25033de1c47b42f89ea534f707a72a9c
              expression: 'avg(/BitAxe_AxeOS_Supra/bitaxe.temp,{$BITAXE.TEMP.HIGH.SEC})>{$BITAXE.TEMP.HIGH}'
              name: 'Temperature > {$BITAXE.TEMP.HIGH}C'
              priority: HIGH
            - uuid: 51d1f108c45249ac81d240cb7dadbbec
              expression: 'avg(/BitAxe_AxeOS_Supra/bitaxe.temp,{$BITAXE.TEMP.WARNING.SEC})={$BITAXE.TEMP.WARNING}'
              name: 'Temperature > {$BITAXE.TEMP.WARNING}C'
              priority: WARNING
              dependencies:
                - name: 'Temperature > {$BITAXE.TEMP.HIGH}C'
                  expression: 'avg(/BitAxe_AxeOS_Supra/bitaxe.temp,{$BITAXE.TEMP.HIGH.SEC})>{$BITAXE.TEMP.HIGH}'
        - uuid: ab42e18bb2be441192704d038d57bab3
          name: 'BitAxe Uptime'
          type: HTTP_AGENT
          key: bitaxe.uptime
          units: sec
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.uptimeSeconds
          url: 'http://{HOST.IP}/api/system/info'
          triggers:
            - uuid: d691dcf6f447464daff1f93f33e08160
              expression: last(/BitAxe_AxeOS_Supra/bitaxe.uptime)<86400
              name: 'Device Rebooted'
              priority: WARNING
        - uuid: 64bfd142ce4f47b492866f7bb6d0020e
          name: 'Bitaxe UpTime'
          type: HTTP_AGENT
          key: bitaxe.uptimeSeconds
          value_type: FLOAT
          units: weeks
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.uptimeSeconds
            - type: MULTIPLIER
              parameters:
                - '1.653439153439E-6'
          url: 'http://{HOST.IP}/api/system/info'
        - uuid: 0ce039a9aaa94850a4be15e37ace825a
          name: 'BitAxe Version'
          type: HTTP_AGENT
          key: bitaxe.version
          value_type: TEXT
          trends: '0'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.version
          url: 'http://{HOST.IP}/api/system/info'
          triggers:
            - uuid: 367814a148b849cfa4a48f4a8feb9982
              expression: change(/BitAxe_AxeOS_Supra/bitaxe.version)=1
              name: 'Software Version Changed'
              priority: WARNING
        - uuid: 3050d71d4ee244d889047000a640d0f9
          name: 'BitAxe Voltage'
          type: HTTP_AGENT
          key: bitaxe.voltage
          value_type: FLOAT
          units: mV
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.voltage
          url: 'http://{HOST.IP}/api/system/info'
        - uuid: 7fb67511336a44e5a6cfcf36f8beb5ba
          name: 'BitAxe VR Temperature'
          type: HTTP_AGENT
          key: bitaxe.vr.temp
          value_type: FLOAT
          units: C
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.vrTemp
          url: 'http://{HOST.IP}/api/system/info'
        - uuid: 2b70cdc945534aa0ab5b51cf107be660
          name: 'BitAxe WiFi RSSI'
          type: HTTP_AGENT
          key: bitaxe.wifi.rssi
          value_type: FLOAT
          units: dBm
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.wifiRSSI
          url: 'http://{HOST.IP}/api/system/info'
          triggers:
            - uuid: 864cbb5edd684508a1aba32e2c976078
              expression: 'avg(/BitAxe_AxeOS_Supra/bitaxe.wifi.rssi,{$BITAXE.WIFI.RSSI.LOW.SEC})<{$BITAXE.WIFI.RSSI.LOW}'
              name: 'WiFi RSSI < {$BITAXE.WIFI.RSSI.LOW}dBm'
              priority: HIGH
            - uuid: 69d705e560e3487a9d27fda2c3805c93
              expression: 'avg(/BitAxe_AxeOS_Supra/bitaxe.wifi.rssi,{$BITAXE.WIFI.RSSI.WARNING.SEC})<{$BITAXE.WIFI.RSSI.WARNING}'
              name: 'WiFi RSSI < {$BITAXE.WIFI.RSSI.WARNING}dBm'
              priority: WARNING
              dependencies:
                - name: 'WiFi RSSI < {$BITAXE.WIFI.RSSI.LOW}dBm'
                  expression: 'avg(/BitAxe_AxeOS_Supra/bitaxe.wifi.rssi,{$BITAXE.WIFI.RSSI.LOW.SEC})<{$BITAXE.WIFI.RSSI.LOW}'
        - uuid: 0fcf6a2a419d4ccf80e19207ff038560
          name: 'BitAxe WiFi Status'
          type: HTTP_AGENT
          key: bitaxe.wifi.status
          value_type: TEXT
          trends: '0'
          preprocessing:
            - type: JSONPATH
              parameters:
                - $.wifiStatus
          url: 'http://{HOST.IP}/api/system/info'
      tags:
        - tag: class
          value: crypto
        - tag: target
          value: Bitaxe
      macros:
        - macro: '{$BITAXE.POWER.HIGH}'
          value: '35'
          description: 'Power consumption high trigger threshold (W)'
        - macro: '{$BITAXE.POWER.HIGH.SEC}'
          value: '900'
          description: 'Power consumption high trigger avg threshold in seconds'
        - macro: '{$BITAXE.POWER.WARNING}'
          value: '29'
          description: 'Power consumption warning trigger threshold (W)'
        - macro: '{$BITAXE.POWER.WARNING.SEC}'
          value: '900'
          description: 'Power consumption warning trigger threshold in seconds'
        - macro: '{$BITAXE.TEMP.HIGH}'
          value: '64'
          description: 'Temperature high trigger threshold (C)'
        - macro: '{$BITAXE.TEMP.HIGH.SEC}'
          value: '900'
          description: 'Temperature high trigger threshold in seconds'
        - macro: '{$BITAXE.TEMP.WARNING}'
          value: '59'
          description: 'Temperature warning trigger threshold (C)'
        - macro: '{$BITAXE.TEMP.WARNING.SEC}'
          value: '900'
          description: 'Temperature warning trigger threshold in seconds'
        - macro: '{$BITAXE.WIFI.RSSI.LOW}'
          value: '-70'
          description: 'WiFi RSSI low trigger threshold (dBm)'
        - macro: '{$BITAXE.WIFI.RSSI.LOW.SEC}'
          value: '900'
          description: 'WiFi RSSI low trigger threshold in seconds'
        - macro: '{$BITAXE.WIFI.RSSI.WARNING}'
          value: '-60'
          description: 'WiFi RSSI warning trigger threshold (dBm)'
        - macro: '{$BITAXE.WIFI.RSSI.WARNING.SEC}'
          value: '900'
          description: 'WiFi RSSI warning trigger threshold in seconds'
  triggers:
    - uuid: 05eabd59159048deb98d344e7f74c1c1
      expression: 'last(/BitAxe_AxeOS_Supra/bitaxe.shares.rejected)/last(/BitAxe_AxeOS_Supra/bitaxe.shares.accepted)*100 > 1'
      name: 'Shares Rejected Failure Rate'
      priority: WARNING
